# TIL

## 2020.11.05

### 멤버변수의 사용목적

[Dion]
여러분 퀴즈입니다.
멤버변수는 언제 사용해야하고 언제 사용하지 말아야 할까요?
(왜 멤버변수를 사용해야할까요?)

[August]
캡슐화와 데이터 은닉을 위해서입니다.
구체적으로 말하면, 주로 private으로 선언하는 이유는 클래스 내부 멤버 필드의 데이터에 클래스 외부에서  직접적인 접근이 가능하다면 마음대로 값을 쓰게되어 중요한 데이터가 훼손될 수 있습니다. 따라서 검증되고 필터링된 값을 멤버변수에 대입할 수 있도록 setter를 제작할 수 있고, 가공된 값을 제공할 수 있도록 getter를 제작할 수 있습니다.
멤버변수를 사용하지 않는 경우는.. 아마도 static final과 같이 한번 선언하고 변경될 일이 없는 상수 등이 있는 것으로 알고 있습니다. (편집됨) 

[Dion]
@August 오 좋은 얘기 많이 나왔네요.
하지만 제가 질문한 의도랑은 약간 다른 방향인 것 같아요.
답변하신것은 캡슐화와 데이터 은닉이 필요한 이유에 대해서 설명하신 것 같아요.
getter와 setter는 더 하고싶은 얘기가 많지만, 마스터즈 코스 가면 얘기해봅시다 ㅎㅎ..
static final이 나와서 하는 얘긴데,
멤버 변수는 어떤 것이 있을까요?
멤버 변수가 무엇인지 검색해보시는게 좋을 것 같아요!

[August]
@Dion 제가 너무 많이 갔네요.. ㅠ 기본이 중요하다는 것을 다시 한번 느낍니다!
자바에서 변수는 선언 위치에 따라 멤버변수와 지역변수로 나누어집니다. 멤버 변수는 선언 위치가 '클래스 영역'이고, 지역변수는 '메소드나 생성자 내부 영역'입니다. 즉, 지역변수는 메소드가 종료되면 자동으로 소멸합니다.
따라서 멤버변수를 사용해야 하는 경우는 C언어에서 구조체의 목적과 비슷하다고 생각합니다. 즉, 관련 있는 데이터를 하나의 의미로 묶어서 객체 지향 프로그래밍(OOP)을 하고자 할 때 사용합니다. 관련 데이터를 하나로 묶어서 객체(Object)로 만들고, 객체들 간의 메시지를 주고받을 수 있도록 구현 함으로써 객체 지향 프로그래밍(OOP)을 가능하도록 합니다. 또한, 의미있는 클래스나 객체명으로 접근함으로써 멤버의 의미가 더욱 명확해지는 효과도 있는 것 같습니다.
멤버변수를 사용하지 말아야 하는 경우는 변수의 사용범위가 메소드의 스코프를 벗어나지 않을 때 == 지역변수만으로 해결이 될 때 == 해당 메소드 외에 다른 곳에서 사용이 되지 않을 때 입니다. 이런 경우 메모리의 효율적인 관리를 위해서 지역변수를 사용하는 것이 유리합니다.
그리고 멤버변수는 또 클래스변수(static 변수 or 공유 변수)와 인스턴스변수로 나누어집니다. 클래스변수는 프로그램 실행 시 바로 메모리에 로드되어 모든 객체가 공통으로 똑같은 속성을 가지고 있는 변수를 말합니다. 따라서 객체를 생성하지 않고도 사용할 수 있습니다. 인스턴스변수는 반드시 객체를 생성해야 사용할 수 있으며(객체 생성 시 메모리에 로드), 객체마다 가지고 있어야 할 데이터인 경우에 인스턴스 변수(필드)로 선언하는 것이 바람직합니다.
final에 static을 관례적으로 붙이는 이유에 대해서는 아래 링크로 학습하였습니다.
[static final](https://djkeh.github.io/articles/Why-should-final-member-variables-be-conventionally-static-in-Java-kor/)
@나나 제가 멤버 변수에 클래스 변수와 인스턴스변수가 포함된다는 사실을 몰랐네요! 저는 인스턴스변수만 멤버 변수라고 부르는 줄 알았어요. 크게 보면 모순되는 말이었네요. C언어에서의 전역변수 vs 지역변수로 착각했습니다.


[Dion]
@August
공부 열심히 하셨네요! 대단해요!:+1:
자, 멤버변수, 지역변수가 나왔습니다.
그리고 멤버변수는 클래스 변수, 인스턴스 변수로 나눠지는 군요!
우리가 사용하는 용어들이 사실 대부분 맞지 않는 경우가 많아요. 항상 용어를 내가 잘 아는지 확실히 알아두는것도 중요합니다.
사실 구조체에서의 필드 정의와는 사뭇 다른데요, 인스턴스 영역과 클래스 영역이 나누어지는 것만으로도 많은 차이를 가진다고 볼 수 있습니다.
접근 하시는 방식이 맞는 방향으로 가고있으니 deep-dive는 이정도로 해두기로 하고, 이 과정에서 많은 공부가 되셨을 것 같습니다.
멤버 변수를 사용하는 것의 구분은 Java언어에 한정해서 생각해보자면 간단한데, '이 변수가 그 클래스 혹은 인스턴스에서 의미가 있는가?' 를 생각해보시면 됩니다. 의미가 없으면 굳이 그 클래스 선언 부분에서 관리를 할 필요가 없죠.
메모리 관리의 측면은 위의 측면에서 바라보면 사실 의미가 없는 고민입니다. 오늘 수업을 들으시면 아실 수도 있겠네요.
고생많으셨습니다!
